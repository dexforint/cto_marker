"""
Вспомогательные функции для работы с провайдерами документов.

Модуль содержит утилитарные функции, которые используются различными
провайдерами для обработки и анализа текстовых данных.

Автор: Marker Team
"""

def alphanum_ratio(text):
    """
    Вычисляет соотношение алфавитно-цифровых символов к общему количеству символов в тексте.
    
    Функция полезна для определения "качества" текста - высокое соотношение указывает
    на наличие значительного количества осмысленного текста по сравнению с мусорными
    символами или специальными символами.
    
    Args:
        text (str): Исходный текст для анализа
        
    Returns:
        float: Соотношение алфавитно-цифровых символов (от 0.0 до 1.0)
    """
    # Удаляем все пробелы из текста
    text = text.replace(" ", "")
    # Удаляем все символы переноса строки из текста
    text = text.replace("\n", "")
    
    # Подсчитываем количество алфавитно-цифровых символов
    alphanumeric_count = sum([1 for c in text if c.isalnum()])

    # Если текст пустой, возвращаем 1.0 (100% алфавитно-цифровых символов)
    if len(text) == 0:
        return 1

    # Вычисляем соотношение алфавитно-цифровых символов к общему количеству
    ratio = alphanumeric_count / len(text)
    return ratio
